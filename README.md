# Multer

## Getting Set Up

Open two terminals in the project. In the first terminal run the command

```shell
cd client && npm install
```

In the second terminal run the command:

```shell
cd server && npm install
```

After installing the packages, in both terminals run:

```shell
npm run dev
```

This will start the server instance and the client. The frontend code is bundled with Vite.

## Uploading a file

The form is a multipart form that has a `description` field name and an `upload` field name. Create a description (not currently used) and upload a file (like a photo). The photo will be uploaded to a destination directory defined on the server called `uploads`. The file that is uploaded will generate a random crypto string and append the file extension to the end of that string. That will be the name of the file on the server. The `uploads` directory will be automatically generated by multer if the directory does not already exist.

The uploads directory will be available by the `express.static` middleware. To access the file or image you will need the full url: `http://localhost:3000/<file-name>`. The response sent back will be an object with a `success` boolean property, a `message` property and a `data` property. The data property will contain the name of the original file and the file name of the newly generated file on the server.